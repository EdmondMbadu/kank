<!-- ==== TOP PROFILE HEADER – modern look ==== -->
<app-navbar
  [email]="this.auth.currentUser.email"
  [firstName]="this.auth.currentUser.firstName"
  [path]="'home'"
></app-navbar>

<!-- Hero banner with title & back button -->
<header
  class="relative mx-auto mt-6 flex max-w-7xl flex-col items-center justify-between gap-6 rounded-3xl bg-gradient-to-r from-green-600 via-emerald-500 to-lime-500 px-6 py-10 shadow-xl sm:flex-row sm:px-10 lg:px-16"
>
  <!-- Back Button -->
  <button
    type="button"
    [routerLink]="clientIndex !== null ? ['/client-portal', clientIndex] : null"
    [disabled]="clientIndex === null"
    class="inline-flex items-center gap-2 rounded-full bg-white/10 px-4 py-2 text-sm font-medium text-white ring-2 ring-white/30 backdrop-blur transition hover:bg-white/20 focus:outline-none focus:ring-4 focus:ring-white/50 disabled:opacity-50 disabled:cursor-not-allowed"
  >
    <svg
      class="w-5 h-5"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      viewBox="0 0 24 24"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        d="M10 19l-7-7m0 0l7-7m-7 7h18"
      />
    </svg>
    Retour au Cycle en Cours
  </button>

  <!-- Title -->
  <h1
    class="text-center text-3xl font-extrabold tracking-tight text-white drop-shadow sm:text-4xl"
  >
    Cycle Précédent - {{ client.debtCycle }}
  </h1>

  <!-- Spacer for alignment -->
  <div class="w-[140px]"></div>

  <!-- soft decorative bubbles -->
  <span
    class="pointer-events-none absolute -top-6 right-10 h-24 w-24 rounded-full bg-white/20 blur-3xl sm:block"
  ></span>
  <span
    class="pointer-events-none absolute bottom-0 left-0 h-16 w-16 rounded-full bg-white/10 blur-2xl"
  ></span>
</header>

<div class="mx-auto flex max-w-7xl flex-col items-center justify-center py-8">
  <!-- Show picture if available -->
  <div
    *ngIf="client?.profilePicture"
    class="relative flex flex-col items-center"
  >
    <img
      [src]="client.profilePicture!.downloadURL"
      alt="Photo du Client"
      class="h-64 w-64 rounded-full object-cover shadow-lg transition md:h-80 md:w-80"
    />
  </div>
</div>

<!-- Trophy badges -->
<div class="mx-auto flex w-full max-w-7xl flex-col items-center px-4">
  <div class="trophy-grid">
    <!-- SILVER -->
    <div *ngIf="isSilver" class="trophy-card trophy-card--silver">
      <img
        src="../../../assets/img/winner.png"
        alt="Argent"
        class="trophy-card__icon"
      />
      <span class="trophy-card__label">Argent</span>
      <p class="trophy-card__range">Score 70 – 99</p>
      <!-- Stars next to trophy -->
      <div
        *ngIf="stars > 0"
        class="mt-2 flex flex-col items-center"
      >
        <button
          (click)="showStarsExplanation = !showStarsExplanation"
          type="button"
          class="flex items-center gap-1 text-amber-600 hover:text-amber-700 transition-colors dark:text-amber-400 dark:hover:text-amber-300"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-4 w-4"
            fill="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"
            />
          </svg>
          <span class="text-xs font-semibold">{{ stars }}</span>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-3 w-3 transition-transform"
            [ngClass]="showStarsExplanation ? 'rotate-180' : ''"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            stroke-width="2"
          >
            <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
          </svg>
        </button>
        <!-- Expandable explanation -->
        <div
          *ngIf="showStarsExplanation"
          class="mt-2 max-w-[200px] rounded-lg bg-amber-50 px-3 py-2 text-[10px] text-amber-800 shadow-md dark:bg-amber-900/40 dark:text-amber-200"
        >
          <p class="font-semibold mb-1">Étoiles</p>
          <p>
            Nombre de célébrations des accomplissements du client.
          </p>
        </div>
      </div>
    </div>

    <!-- GOLD -->
    <div *ngIf="isGold" class="trophy-card trophy-card--gold">
      <img
        src="../../../assets/img/winner.png"
        alt="Or"
        class="trophy-card__icon"
      />
      <span class="trophy-card__label">Or</span>
      <p class="trophy-card__range">Score 100+</p>
      <!-- Stars next to trophy -->
      <div
        *ngIf="stars > 0"
        class="mt-2 flex flex-col items-center"
      >
        <button
          (click)="showStarsExplanation = !showStarsExplanation"
          type="button"
          class="flex items-center gap-1 text-amber-600 hover:text-amber-700 transition-colors dark:text-amber-400 dark:hover:text-amber-300"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-4 w-4"
            fill="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"
            />
          </svg>
          <span class="text-xs font-semibold">{{ stars }}</span>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-3 w-3 transition-transform"
            [ngClass]="showStarsExplanation ? 'rotate-180' : ''"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            stroke-width="2"
          >
            <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
          </svg>
        </button>
        <!-- Expandable explanation -->
        <div
          *ngIf="showStarsExplanation"
          class="mt-2 max-w-[200px] rounded-lg bg-amber-50 px-3 py-2 text-[10px] text-amber-800 shadow-md dark:bg-amber-900/40 dark:text-amber-200"
        >
          <p class="font-semibold mb-1">Étoiles</p>
          <p>
            Nombre de célébrations des accomplissements du client.
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- ==== /TOP PROFILE HEADER ==== -->

<!-- ==== CLIENT PROFILE CARD (modern look) ==== -->
<div
  id="fullWidthTabContent"
  class="mx-4 lg:mx-60 my-8 overflow-hidden rounded-3xl bg-white/70 shadow-xl ring-1 ring-gray-200 backdrop-blur dark:bg-gray-800/70 dark:ring-gray-700"
>
  <!-- decorative top bar -->
  <div
    class="h-2 w-full bg-gradient-to-r from-green-400 via-emerald-500 to-lime-400 dark:from-emerald-600 dark:via-teal-500 dark:to-cyan-400"
  ></div>

  <!-- main grid -->
  <dl
    class="grid gap-6 p-6 sm:grid-cols-2 xl:grid-cols-3 text-gray-900 dark:text-white"
  >
    <!-- Name & vital status -->
    <div class="col-span-full flex flex-col items-center">
      <h2
        class="text-2xl font-extrabold tracking-tight sm:text-3xl text-center"
      >
        {{ client.firstName }} {{ client.lastName }}
        <span *ngIf="client.middleName"> {{ client.middleName }}</span>
      </h2>
      <p class="mt-1 text-sm font-medium text-gray-500 dark:text-gray-400">
        Membre depuis {{ dateJoined }}
      </p>
      <span
        class="mt-2 inline-flex items-center rounded-full bg-green-100 px-3 py-1 text-sm font-semibold text-green-800 dark:bg-green-900/40 dark:text-green-300"
      >
        {{ client.vitalStatus }}
      </span>
      <!-- Stars display below name -->
      <div *ngIf="stars > 0" class="mt-3 flex flex-col items-center">
        <button
          (click)="showStarsExplanation = !showStarsExplanation"
          type="button"
          class="inline-flex items-center gap-1.5 rounded-full bg-amber-50 px-3 py-1.5 text-sm font-semibold text-amber-700 hover:bg-amber-100 transition-colors dark:bg-amber-900/30 dark:text-amber-300 dark:hover:bg-amber-900/40"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5 text-amber-500 dark:text-amber-400"
            fill="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"
            />
          </svg>
          <span>{{ stars }}</span>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-4 w-4 transition-transform"
            [ngClass]="showStarsExplanation ? 'rotate-180' : ''"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            stroke-width="2"
          >
            <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
          </svg>
        </button>
        <!-- Expandable explanation -->
        <div
          *ngIf="showStarsExplanation"
          class="mt-2 max-w-md rounded-lg bg-amber-50 px-4 py-3 text-xs text-amber-800 shadow-md dark:bg-amber-900/40 dark:text-amber-200"
        >
          <p class="font-semibold mb-1">Que représentent les étoiles ?</p>
          <p>
            Les étoiles indiquent le nombre de fois que ce client a été célébré pour ses accomplissements et ses réussites. Chaque étoile représente une célébration spéciale de leurs performances exceptionnelles.
          </p>
        </div>
      </div>
    </div>

    <!-- Age -->
    <div
      *ngIf="age !== null"
      class="flex flex-col items-center rounded-2xl bg-gray-50 px-4 py-6 dark:bg-gray-900/50"
    >
      <dt class="text-lg font-semibold">Âge</dt>
      <dd class="mt-1 text-3xl font-bold">{{ age }}</dd>
      <dd
        *ngIf="birthDateDisplay"
        class="mt-1 text-xs text-gray-500 dark:text-gray-400"
      >
        Né(e) le {{ birthDateDisplay }}
      </dd>
    </div>

    <!-- Phone number -->
    <div
      class="flex flex-col items-center rounded-2xl bg-gray-50 px-4 py-6 transition hover:shadow-lg dark:bg-gray-900/50"
    >
      <dt class="text-lg font-semibold">Téléphone</dt>
      <dd class="mt-1">
        <a
          [href]="'tel:' + client.phoneNumber"
          class="text-xl font-bold tracking-wide text-center hover:underline"
        >
          {{ client.phoneNumber }}
        </a>
      </dd>
    </div>

    <!-- Business address -->
    <div
      class="flex flex-col items-center rounded-2xl bg-gray-50 px-4 py-6 transition hover:shadow-lg dark:bg-gray-900/50"
    >
      <dt class="text-lg font-semibold">Adresse Business</dt>
      <dd class="mt-1 text-center text-sm font-medium">
        {{ client.businessAddress }}
      </dd>
    </div>

    <!-- Loan amount -->
    <div
      class="flex flex-col items-center rounded-2xl bg-gradient-to-br from-amber-50 to-amber-100 px-4 py-6 dark:from-gray-900/60 dark:to-gray-800/60"
    >
      <dt class="text-lg font-semibold">Montant Emprunté (FC)</dt>
      <dd class="mt-1 text-3xl font-extrabold">
        {{ client.loanAmount | number : "1.0-0" }}
      </dd>
    </div>

    <!-- Amount paid -->
    <div
      class="flex flex-col items-center rounded-2xl bg-gradient-to-br from-green-50 to-green-100 px-4 py-6 dark:from-gray-900/60 dark:to-gray-800/60"
    >
      <dt class="text-lg font-semibold">Montant Perçu (FC)</dt>
      <dd class="mt-1 text-3xl font-extrabold">
        {{ client.amountPaid | number : "1.0-0" }}
      </dd>
    </div>

    <!-- Debt left -->
    <div
      class="debt-left-card flex flex-col items-center rounded-2xl bg-gradient-to-br from-rose-600 to-red-700 px-4 py-6 text-white dark:from-rose-700 dark:to-red-900"
    >
      <dt class="text-lg font-semibold text-rose-100">Montant Restant (FC)</dt>
      <dd class="mt-1 text-3xl font-extrabold">
        {{ client.debtLeft | number : "1.0-0" }}
      </dd>
    </div>

    <!-- Amount to pay -->
    <div
      class="flex flex-col items-center rounded-2xl bg-gradient-to-br from-sky-50 to-sky-100 px-4 py-6 dark:from-gray-900/60 dark:to-gray-800/60"
    >
      <dt class="text-lg font-semibold">Montant à Payer (FC)</dt>
      <dd class="mt-1 text-3xl font-extrabold">
        {{ client.amountToPay | number : "1.0-0" }}
      </dd>
    </div>

    <!-- Debt cycle -->
    <div
      class="flex flex-col items-center rounded-2xl bg-gray-50 px-4 py-6 dark:bg-gray-900/50"
    >
      <dt class="text-lg font-semibold">Cycle de Dette</dt>
      <dd class="mt-1 text-xl font-bold">{{ client.debtCycle }}</dd>
      <p class="text-xs text-gray-500 dark:text-gray-400">
        {{ debtStart }} &rarr; {{ debtEnd }}
      </p>
    </div>

    <!-- Payments made -->
    <div
      class="flex flex-col items-center rounded-2xl bg-gray-50 px-4 py-6 dark:bg-gray-900/50"
    >
      <dt class="text-lg font-semibold">Nombre De Paiements Reçus</dt>
      <dd class="mt-1 text-3xl font-extrabold">
        {{ client.numberOfPaymentsMade }}
      </dd>
    </div>

    <!-- Savings -->
    <div
      class="flex flex-col items-center rounded-2xl bg-lime-50 px-4 py-6 dark:bg-gray-900/50"
    >
      <dt class="text-lg font-semibold">Épargnes (FC)</dt>
      <dd class="mt-1 text-3xl font-extrabold">
        {{ client.savings | number : "1.0-0" }}
      </dd>
    </div>

    <!-- Min Pay -->
    <div
      class="flex flex-col items-center rounded-2xl bg-lime-50 px-4 py-6 dark:bg-gray-900/50"
    >
      <dt class="text-lg font-semibold">Paiement Minimum (FC)</dt>
      <dd class="mt-1 text-3xl font-extrabold">
        {{ minPay | number : "1.0-0" }}
      </dd>
    </div>

    <!-- Agent -->
    <div
      class="flex flex-col items-center rounded-2xl bg-gray-50 px-4 py-6 dark:bg-gray-900/50"
    >
      <dt class="text-lg font-semibold">Agent</dt>
      <dd class="mt-1 text-center text-sm font-medium">
        {{ agent?.firstName }} {{ agent?.middleName }} {{ agent?.lastName }}
      </dd>
    </div>

    <!-- Payment day -->
    <div
      class="flex flex-col items-center rounded-2xl bg-gray-50 px-4 py-6 dark:bg-gray-900/50"
    >
      <dt class="text-lg font-semibold">Jour de Paiement</dt>
      <dd class="mt-1 text-2xl font-bold">{{ client.frenchPaymentDay }}</dd>
    </div>

    <!-- Credit score -->
    <div
      class="flex flex-col items-center rounded-2xl bg-gray-50 px-4 py-6 dark:bg-gray-900/50"
    >
      <dt class="text-lg font-semibold">Score Crédit</dt>
      <dd class="mt-1 text-3xl font-extrabold">{{ client.creditScore }}</dd>
    </div>

    <!-- Next payment date -->
    <div
      class="flex flex-col items-center rounded-2xl bg-gray-50 px-4 py-6 dark:bg-gray-900/50"
    >
      <dt class="text-lg font-semibold">Prochaine Échéance</dt>
      <dd class="mt-1 text-2xl font-bold">
        {{ client.frenchPaymentDay }} {{ paymentDate }}
      </dd>
    </div>

    <!-- References -->
    <div
      *ngIf="client.references"
      class="flex flex-col items-center rounded-2xl bg-gray-50 px-4 py-6 dark:bg-gray-900/50"
    >
      <dt class="text-lg font-semibold">Références</dt>
      <div *ngFor="let r of client.references">
        <dd class="mt-1 text-center text-sm font-medium">{{ r }}</dd>
      </div>
    </div>
  </dl>

  <!-- action buttons row -->
  <div
    class="flex flex-wrap justify-center gap-4 border-t border-gray-200 bg-gray-50 px-6 py-4 dark:border-gray-700 dark:bg-gray-900/60"
  >
    <button
      class="rounded-full bg-green-600 px-6 py-2 text-sm font-medium text-white shadow hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-400"
      [routerLink]="['/payment-cycle-activity', client.uid + '-' + client.cycleId]"
    >
      Détails de Paiement
    </button>

    <button
      class="rounded-full bg-green-600 px-6 py-2 text-sm font-medium text-white shadow hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-400"
      [routerLink]="['/saving-cycle-activity', client.uid + '-' + client.cycleId]"
    >
      Détails d'Épargne
    </button>
  </div>
</div>
<!-- ==== /CLIENT PROFILE CARD ==== -->

<!-- ==== CREDIT GRAPH PANEL (Performance Ring) ==== -->
<div
  class="mx-auto mb-16 flex max-w-7xl flex-col items-center justify-center px-4"
>
  <div
    class="w-full rounded-3xl bg-white/70 p-6 shadow-lg ring-1 ring-gray-200 backdrop-blur dark:bg-gray-800/70 dark:ring-gray-700"
  >
    <!-- PERFORMANCE RING -->
    <div
      class="container mt-2 flex mx-auto flex-col md:flex-row md:justify-center"
    >
      <div class="w-full max-w-xl mx-auto">
        <div
          class="rounded-2xl border border-slate-200 bg-gradient-to-br from-white to-slate-50 p-6 shadow-sm backdrop-blur-md dark:border-slate-700 dark:from-slate-900 dark:to-slate-900/80"
        >
          <div
            class="w-full rounded-3xl bg-white/70 p-6 shadow-lg ring-1 ring-gray-200 backdrop-blur dark:bg-gray-800/70 dark:ring-gray-700"
          >
            <!-- Title -->
            <h3
              class="mb-4 text-center text-xl font-bold tracking-tight text-slate-800 dark:text-slate-100"
            >
              Client Score Credit
            </h3>

            <div class="relative flex items-center justify-center">
              <svg
                [attr.width]="size"
                [attr.height]="size"
                [attr.viewBox]="'0 0 ' + size + ' ' + size"
                class="drop-shadow-sm"
              >
                <defs>
                  <!-- subtle glow -->
                  <filter
                    id="perfGlow"
                    x="-50%"
                    y="-50%"
                    width="200%"
                    height="200%"
                  >
                    <feGaussianBlur stdDeviation="3.5" result="blur" />
                    <feMerge>
                      <feMergeNode in="blur" />
                      <feMergeNode in="SourceGraphic" />
                    </feMerge>
                  </filter>

                  <!-- very faint trail gradient -->
                  <linearGradient
                    [attr.id]="gradId"
                    x1="0%"
                    y1="0%"
                    x2="100%"
                    y2="100%"
                  >
                    <stop offset="0%" stop-color="#e5e7eb" />
                    <stop offset="100%" stop-color="#cbd5e1" />
                  </linearGradient>
                </defs>

                <!-- background ring -->
                <circle
                  [attr.cx]="center"
                  [attr.cy]="center"
                  [attr.r]="radius2"
                  [attr.stroke]="'url(#' + gradId + ')'"
                  [attr.stroke-width]="strokeWidth"
                  fill="none"
                ></circle>

                <!-- tick marks (every 10%) -->
                <g
                  [attr.transform]="'translate(' + center + ',' + center + ')'"
                >
                  <ng-container *ngFor="let t of ticks">
                    <line
                      [attr.x1]="0"
                      [attr.y1]="-radius2"
                      [attr.x2]="0"
                      [attr.y2]="-radius2 + 8"
                      stroke="#c7d2fe"
                      stroke-width="2"
                      [attr.transform]="'rotate(' + t + ')'"
                      class="opacity-50 dark:opacity-40"
                    />
                  </ng-container>
                </g>

                <!-- progress arc -->
                <circle
                  [attr.cx]="center"
                  [attr.cy]="center"
                  [attr.r]="radius2"
                  [attr.stroke]="colorForPerf(avgPerf)"
                  [attr.stroke-width]="strokeWidth"
                  stroke-linecap="round"
                  fill="none"
                  [attr.stroke-dasharray]="progressDasharray()"
                  [attr.stroke-dashoffset]="0"
                  [attr.transform]="'rotate(-90 ' + center + ' ' + center + ')'"
                  filter="url(#perfGlow)"
                  class="transition-all duration-700 ease-out"
                ></circle>
              </svg>

              <!-- center labels -->
              <div
                class="absolute inset-0 flex flex-col items-center justify-center"
              >
                <div
                  class="text-4xl font-extrabold text-slate-900 dark:text-slate-100"
                >
                  {{ avgPerf | number : "1.0-0" }}%
                </div>
                <div
                  class="mt-1 text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400"
                >
                  {{ monthFrenchNames[currentMonth] }} {{ currentYear }}
                </div>
              </div>

              <!-- tiny status chip -->
              <div
                class="absolute -bottom-1.5 right-1 flex items-center gap-1 text-[11px]"
              >
                <span
                  class="inline-block h-2.5 w-2.5 rounded-full"
                  [ngStyle]="{ background: colorForPerf(avgPerf) }"
                ></span>
                <span class="text-slate-500 dark:text-slate-400"
                  >Score crédit</span
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ==== COMMENTS SECTION ==== -->
<section class="bg-white dark:bg-gray-900 py-8 lg:py-16 antialiased">
  <div class="max-w-2xl mx-auto px-4">
    <div class="flex justify-between items-center mb-6">
      <h2
        class="text-lg lg:text-2xl font-bold text-gray-900 dark:text-white"
      >
        Commentaires...
      </h2>
    </div>
    <!-- modern block-quote style for each comment -->
    <article
      *ngFor="
        let c of (comments | slice: 0 : (auth.isAdmin ? comments.length : 2));
        let i = index
      "
      class="relative mx-auto mb-6 max-w-2xl rounded-3xl bg-white shadow-lg dark:bg-gray-800"
    >
      <!-- decorative left ribbon -->
      <span
        class="absolute inset-y-0 left-0 w-1 rounded-l-3xl bg-gradient-to-b from-green-400 to-green-600"
      ></span>

      <header class="flex items-center px-6 pt-5">
        <!-- avatar -->
        <div
          class="mr-3 flex h-10 w-10 items-center justify-center overflow-hidden rounded-full bg-gray-200 dark:bg-gray-700"
        >
          <span class="font-medium text-gray-600 dark:text-gray-300">
            {{ c.name?.substring(0, 2) }}
          </span>
        </div>

        <!-- name & date -->
        <div class="flex flex-col">
          <p class="text-sm font-semibold text-gray-900 dark:text-white">
            {{ c.name }}
          </p>
          <time
            [attr.datetime]="c['timeISO'] ?? ''"
            class="text-xs text-gray-500 dark:text-gray-400"
          >
            {{ c.timeFormatted }}
          </time>
        </div>
      </header>

      <!-- comment body -->
      <blockquote
        class="relative mt-4 rounded-b-3xl bg-gray-50 px-6 pb-6 pt-4 italic text-gray-800 dark:bg-gray-900 dark:text-gray-200"
      >
        <!-- quotation mark decoration -->
        <svg
          aria-hidden="true"
          class="absolute left-3 top-3 h-5 w-5 text-green-400 opacity-30"
          fill="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            d="M7.17 15H4.31c.4-2.78 1.5-5.71 3.3-8.79L10 7.4c-1.27 2.08-2.01 4.15-2.21 6.21.46-.39 1.02-.59 1.68-.59.83 0 1.49.28 1.97.83.48.55.72 1.31.72 2.27 0 .92-.29 1.68-.86 2.28-.58.61-1.37.91-2.37.91-1.01 0-1.82-.31-2.44-.93-.62-.61-.93-1.45-.93-2.53 0-.71.1-1.39.3-2.04h.01zm9 0h-2.86c.4-2.78 1.5-5.71 3.3-8.79L19 7.4c-1.27 2.08-2.01 4.15-2.21 6.21.46-.39 1.02-.59 1.68-.59.83 0 1.49.28 1.97.83.48.55.72 1.31.72 2.27 0 .92-.29 1.68-.86 2.28-.58.61-1.37.91-2.37.91-1.01 0-1.82-.31-2.44-.93-.62-.61-.93-1.45-.93-2.53 0-.71.1-1.39.3-2.04h.01z"
          />
        </svg>

        <p class="ml-6 leading-relaxed" *ngIf="c.comment">
          {{ c.comment }}
        </p>

        <!-- audio (if any) -->
        <div *ngIf="c.audioUrl" class="mt-4 ml-6">
          <audio
            [src]="c.audioUrl"
            controls
            class="w-full max-w-sm rounded-lg shadow dark:bg-gray-700"
          ></audio>
        </div>
      </blockquote>
    </article>
  </div>
</section>
